!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.FontColor=n():t.FontColor=n()}(window,function(){return function(t){var n={};function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(n){return t[n]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="/",e(e.s=0)}([function(t,n,e){function o(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function i(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function s(t,n,e){return n&&i(t.prototype,n),e&&i(t,e),t}e(1).toString();var l={colors:["#009900","#990000","#000099","#000000"],columnsCount:4,colorButton:{width:40,height:40,spacingX:8,spacingY:8,borderRadius:"4px",border:"none",appliedColorIcon:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"> <defs> <path id="cdx-font-color__icon-done%id%6" d="M8.689 15.637l-3.026-3.033L4 14.27l3.992 4.003.733.726L19.996 7.7 18.3 6z"/> </defs> <g fill="none" fill-rule="evenodd"> <mask id="cdx-font-color__icon-done4%id%" fill="#fff"> <use xlink:href="#cdx-font-color__icon-done%id%6"/> </mask> <use fill="#fff" fill-rule="nonzero" xlink:href="#cdx-font-color__icon-done%id%6"/> <g fill="#fff" mask="url(#cdx-font-color__icon-done4%id%)"> <path d="M0 0h24v24H0z"/> </g> </g></svg>'},noColorButton:{border:"1px solid #e4e5e9",icon:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"> <defs> <path id="cdx-font-color__icon-erasor%id%0" d="M10.999 16.286l3-3.429H7.142l-3 3.429h6.857zm9.044-9.616c.179.41.108.884-.187 1.223l-8 9.143c-.214.25-.527.393-.857.393H4.142c-.447 0-.858-.26-1.045-.67a1.156 1.156 0 0 1 .187-1.223l8-9.143c.215-.25.527-.393.858-.393h6.857c.446 0 .857.259 1.044.67z"/> </defs> <g fill="none" fill-rule="evenodd"> <mask id="cdx-font-color__icon-erasor2%id%" fill="#fff"> <use xlink:href="#cdx-font-color__icon-erasor%id%0"/> </mask> <use fill="#000" xlink:href="#cdx-font-color__icon-erasor%id%0"/> <g fill="currentColor" mask="url(#cdx-font-color__icon-erasor2%id%)"> <path d="M0 0h24v24H0z"/> </g> </g></svg>',iconColor:"#556066"},debug:!1,icon:'<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="24" height="24" viewBox="0 0 24 24"><path d="M19.022 6.224a.722.722 0 0 1 .216.531c0 .21-.072.387-.216.531L12.308 14l-2.07-2.07 6.714-6.714A.722.722 0 0 1 17.483 5c.21 0 .387.072.531.216l1.008 1.008zM8.726 13.262c.396 0 .768.102 1.116.306.348.204.624.48.828.828.204.348.306.72.306 1.116a2.88 2.88 0 0 1-.405 1.494c-.27.456-.633.819-1.089 1.089-.456.27-.957.405-1.503.405-.546 0-1.092-.138-1.638-.414A3.831 3.831 0 0 1 5 16.988c.228 0 .456-.057.684-.171.228-.114.414-.273.558-.477.156-.24.234-.516.234-.828 0-.396.102-.768.306-1.116.204-.348.48-.624.828-.828a2.17 2.17 0 0 1 1.116-.306z"></path></svg>'},a=function(){function t(n){var e=n.api,o=n.config;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.api=e,this.button=void 0,this.config=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},o=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.forEach(function(n){r(t,n,e[n])})}return t}({},l,o),this.color="inherit",this.colorButtons=[],this.createColorClasses(),this.debug=this.config.debug,this.panel=void 0,this.range=void 0,this.tag="SPAN",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}return s(t,null,[{key:"classFor",value:function(n){return[t.inlineBlockClass,n.replace("#","hash")].join("_")}},{key:"isInline",get:function(){return!0}},{key:"colorButtonClass",get:function(){return"cdx-font-color__color-button"}},{key:"colorButtonAppliedClass",get:function(){return t.colorButtonClass+"_applied"}},{key:"noColorButtonClass",get:function(){return"cdx-font-color__color-button_no-color"}},{key:"inlineBlockClass",get:function(){return"cdx-font-color"}},{key:"iconClass",get:function(){return"cdx-font-color__icon"}},{key:"panelBaseClass",get:function(){return t.inlineBlockClass+"__panel"}},{key:"panelHiddenClass",get:function(){return t.panelBaseClass+"_hidden"}},{key:"stylesDataAttributeColorSeparator",get:function(){return";"}},{key:"stylesDataAttribute",get:function(){return"data-editorjs_font_color_plugin"}},{key:"sanitize",get:function(){return{span:{class:!0,"data-color":!0}}}}]),s(t,[{key:"checkState",value:function(){var n=this.api.selection.findParentTag(this.tag,t.inlineBlockClass);if(this.button.classList.toggle(this.iconClasses.active,!!n),n){var e=n.getAttribute("data-color");this.updateColorButtonsStatuses(e)}}},{key:"clear",value:function(){this.hidePanel()}},{key:"createColorButton",value:function(n){var e=this,o=(1e3*Math.random()).toString().split(".")[1],r=document.createElement("button");r.classList.add(t.colorButtonClass),r.setAttribute("data-color",n);var i=this.config.colorButton.appliedColorIcon.replace(/%id%/g,o);if(r.innerHTML=i,r.style.backgroundColor=n||"transparent",r.style.width=this.config.colorButton.width+"px",r.style.height=this.config.colorButton.height+"px",r.style.marginBottom=this.config.colorButton.spacingY+"px",r.style.marginRight=this.config.colorButton.spacingX+"px",r.style.borderRadius=this.config.colorButton.borderRadius,r.style.border=this.config.colorButton.border,!n){r.classList.add(t.noColorButtonClass),r.innerHTML=this.config.noColorButton.icon.replace(/%id%/g,o),r.style.color=this.config.noColorButton.iconColor;var s=this.config.noColorButton.border||this.config.colorButton.border;r.style.border=s}return r.addEventListener("click",function(){return e.handleColorButtonClick(n)}),r}},{key:"createColorClasses",value:function(){var n=document.head.getElementsByTagName("style"),e=[].filter.call(n,function(n){return n.hasAttribute(t.stylesDataAttribute)}).map(function(n){return n.getAttribute(t.stylesDataAttribute).split(t.stylesDataAttributeColorSeparator)}).flat(),o=this.config.colors.filter(function(t){return-1===e.indexOf(t)}).map(function(n){return".".concat(t.classFor(n),"{color:").concat(n,"}")}).join("").trim();if(o){var r=document.createElement("style");r.type="text/css",r.innerHTML=o;var i=this.config.colors.join(t.stylesDataAttributeColorSeparator);r.setAttribute(t.stylesDataAttribute,i),document.head.appendChild(r)}}},{key:"handleColorButtonClick",value:function(n){if(this.debug&&console.log("clicked on color: ",n),this.color=n||"inherit",this.range){var e=this.api.selection.findParentTag(this.tag,t.inlineBlockClass);this.debug&&console.log("termWrapper: ",e),e&&this.unwrap(e),n&&this.wrap(this.range),this.updateColorButtonsStatuses(n)}else this.debug&&console.warn("Color applied without range: ",this.range)}},{key:"hidePanel",value:function(){this.panel.classList.toggle(t.panelHiddenClass,!0)}},{key:"render",value:function(){var n=this;return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.config.icon,this.button.addEventListener("click",function(){return n.panel.classList.toggle(t.panelHiddenClass)}),setTimeout(function(){[].filter.call(n.button.parentElement.children,function(t){return n.button!==t}).forEach(function(t){return t.addEventListener("click",function(){return n.hidePanel()})})},50),this.button}},{key:"renderActions",value:function(){var n,e=this;this.panel=document.createElement("div");var r=this.config.colors.map(function(t){return e.createColorButton(t)}),i=this.createColorButton();return this.colorButtons=[].concat(o(r),[i]),this.panel.classList.add(t.panelBaseClass,t.panelHiddenClass),this.panel.style.width=this.config.columnsCount*(this.config.colorButton.width+this.config.colorButton.spacingX)+this.config.colorButton.spacingX+"px",this.panel.style.paddingLeft=this.config.colorButton.spacingX+"px",this.panel.style.paddingTop=this.config.colorButton.spacingY+"px",(n=this.panel).append.apply(n,o(this.colorButtons)),this.panel.tabIndex=0,this.panel}},{key:"showPanel",value:function(){this.panel.classList.toggle(t.panelHiddenClass,!1)}},{key:"surround",value:function(t){this.debug&&console.log("surround: ",t),this.range=t}},{key:"wrap",value:function(n){var e=document.createElement(this.tag);e.classList.add(t.inlineBlockClass,t.classFor(this.color)),e.setAttribute("data-color",this.color),e.appendChild(n.extractContents()),n.insertNode(e),this.api.selection.expandToTag(e)}},{key:"unwrap",value:function(t){this.api.selection.expandToTag(t);var n=window.getSelection();this.range=n.getRangeAt(0);var e=this.range.extractContents();t.remove(),this.range.insertNode(e),n.removeAllRanges(),n.addRange(this.range)}},{key:"updateColorButtonsStatuses",value:function(n){this.colorButtons.forEach(function(e){var o=e.getAttribute("data-color")===n;e.classList.toggle(t.colorButtonAppliedClass,o)})}}]),t}();t.exports=a},function(t,n,e){var o=e(2);"string"==typeof o&&(o=[[t.i,o,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};e(4)(o,r);o.locals&&(t.exports=o.locals)},function(t,n,e){(t.exports=e(3)(!1)).push([t.i,".cdx-font-color__container {\n  position: relative;\n}\n.cdx-font-color__color-button {\n  border: none;\n  cursor: pointer;\n}\n.cdx-font-color__color-button svg {\n  display: none;\n}\n.cdx-font-color__color-button_applied svg {\n  display: inline;\n}\n.cdx-font-color__color-button_no-color {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0;\n}\n.cdx-font-color__color-button_no-color svg {\n  display: inline;\n}\n.cdx-font-color__icon {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  font-size: 24px;\n}\n.cdx-font-color__panel {\n  display: flex;\n  flex-wrap: wrap;\n  margin: 0 auto;\n  box-sizing: border-box;\n  outline: none;\n}\n.cdx-font-color__panel_hidden {\n  display: none;\n}\n\n",""])},function(t,n){t.exports=function(t){var n=[];return n.toString=function(){return this.map(function(n){var e=function(t,n){var e=t[1]||"",o=t[3];if(!o)return e;if(n&&"function"==typeof btoa){var r=(s=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=o.sources.map(function(t){return"/*# sourceURL="+o.sourceRoot+t+" */"});return[e].concat(i).concat([r]).join("\n")}var s;return[e].join("\n")}(n,t);return n[2]?"@media "+n[2]+"{"+e+"}":e}).join("")},n.i=function(t,e){"string"==typeof t&&(t=[[null,t,""]]);for(var o={},r=0;r<this.length;r++){var i=this[r][0];"number"==typeof i&&(o[i]=!0)}for(r=0;r<t.length;r++){var s=t[r];"number"==typeof s[0]&&o[s[0]]||(e&&!s[2]?s[2]=e:e&&(s[2]="("+s[2]+") and ("+e+")"),n.push(s))}},n}},function(t,n,e){var o,r,i={},s=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),l=function(t){var n={};return function(t){if("function"==typeof t)return t();if(void 0===n[t]){var e=function(t){return document.querySelector(t)}.call(this,t);if(window.HTMLIFrameElement&&e instanceof window.HTMLIFrameElement)try{e=e.contentDocument.head}catch(t){e=null}n[t]=e}return n[t]}}(),a=null,c=0,u=[],f=e(5);function d(t,n){for(var e=0;e<t.length;e++){var o=t[e],r=i[o.id];if(r){r.refs++;for(var s=0;s<r.parts.length;s++)r.parts[s](o.parts[s]);for(;s<o.parts.length;s++)r.parts.push(y(o.parts[s],n))}else{var l=[];for(s=0;s<o.parts.length;s++)l.push(y(o.parts[s],n));i[o.id]={id:o.id,refs:1,parts:l}}}}function p(t,n){for(var e=[],o={},r=0;r<t.length;r++){var i=t[r],s=n.base?i[0]+n.base:i[0],l={css:i[1],media:i[2],sourceMap:i[3]};o[s]?o[s].parts.push(l):e.push(o[s]={id:s,parts:[l]})}return e}function h(t,n){var e=l(t.insertInto);if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=u[u.length-1];if("top"===t.insertAt)o?o.nextSibling?e.insertBefore(n,o.nextSibling):e.appendChild(n):e.insertBefore(n,e.firstChild),u.push(n);else if("bottom"===t.insertAt)e.appendChild(n);else{if("object"!=typeof t.insertAt||!t.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=l(t.insertInto+" "+t.insertAt.before);e.insertBefore(n,r)}}function g(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var n=u.indexOf(t);n>=0&&u.splice(n,1)}function b(t){var n=document.createElement("style");return void 0===t.attrs.type&&(t.attrs.type="text/css"),v(n,t.attrs),h(t,n),n}function v(t,n){Object.keys(n).forEach(function(e){t.setAttribute(e,n[e])})}function y(t,n){var e,o,r,i;if(n.transform&&t.css){if(!(i=n.transform(t.css)))return function(){};t.css=i}if(n.singleton){var s=c++;e=a||(a=b(n)),o=w.bind(null,e,s,!1),r=w.bind(null,e,s,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(e=function(t){var n=document.createElement("link");return void 0===t.attrs.type&&(t.attrs.type="text/css"),t.attrs.rel="stylesheet",v(n,t.attrs),h(t,n),n}(n),o=function(t,n,e){var o=e.css,r=e.sourceMap,i=void 0===n.convertToAbsoluteUrls&&r;(n.convertToAbsoluteUrls||i)&&(o=f(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var s=new Blob([o],{type:"text/css"}),l=t.href;t.href=URL.createObjectURL(s),l&&URL.revokeObjectURL(l)}.bind(null,e,n),r=function(){g(e),e.href&&URL.revokeObjectURL(e.href)}):(e=b(n),o=function(t,n){var e=n.css,o=n.media;o&&t.setAttribute("media",o);if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}.bind(null,e),r=function(){g(e)});return o(t),function(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;o(t=n)}else r()}}t.exports=function(t,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(n=n||{}).attrs="object"==typeof n.attrs?n.attrs:{},n.singleton||"boolean"==typeof n.singleton||(n.singleton=s()),n.insertInto||(n.insertInto="head"),n.insertAt||(n.insertAt="bottom");var e=p(t,n);return d(e,n),function(t){for(var o=[],r=0;r<e.length;r++){var s=e[r];(l=i[s.id]).refs--,o.push(l)}t&&d(p(t,n),n);for(r=0;r<o.length;r++){var l;if(0===(l=o[r]).refs){for(var a=0;a<l.parts.length;a++)l.parts[a]();delete i[l.id]}}}};var m,x=(m=[],function(t,n){return m[t]=n,m.filter(Boolean).join("\n")});function w(t,n,e,o){var r=e?"":o.css;if(t.styleSheet)t.styleSheet.cssText=x(n,r);else{var i=document.createTextNode(r),s=t.childNodes;s[n]&&t.removeChild(s[n]),s.length?t.insertBefore(i,s[n]):t.appendChild(i)}}},function(t,n){t.exports=function(t){var n="undefined"!=typeof window&&window.location;if(!n)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var e=n.protocol+"//"+n.host,o=e+n.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,n){var r,i=n.trim().replace(/^"(.*)"$/,function(t,n){return n}).replace(/^'(.*)'$/,function(t,n){return n});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?t:(r=0===i.indexOf("//")?i:0===i.indexOf("/")?e+i:o+i.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}}])});